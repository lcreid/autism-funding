<div class="row parent-test">
  <div class="col-md-10">
    <%= form_row do %>
      <%= parent_field(form, :parent_first_name, 2) %>
      <%= parent_field(form, :parent_middle_name, 2) %>
      <%= parent_field(form, :parent_last_name, 2) %>
      <%#= parent_phone_field(parent, :home, parent.object.my_home_phone, 3) %>
      <%#= parent_phone_field(parent, :work, parent.object.my_work_phone, 3) %>
      <%# OK. I think the below works. What is the learning?
          By putting in the method name, you cause the form builder to use
          it in the element id and name, so you get unique IDs. But the form
          builder must look only at attributes, rather than all methods, when
          looking for the value, so you also have to explicitly provide the
          object.

          My guess is that nested attributes won't work out of the box with this,
          because it doesn't use the standard collection apporach. So an
          approach that uses the collection order by the way you want them to
          be, while hacky, might work more smoothly.
      %>
      <%= parent.fields_for :my_home_phone, parent.object.my_home_phone do |phone| %>
        <%#= "parent object: " + parent.object.inspect %>
        <%#= "phone object: " + phone.object.inspect %>
        <%= render partial: 'phone_numbers/form',
               locals: { f: form, type: :home, phone_number: phone } %>
      <% end %>
      <%= parent.fields_for :my_work_phone, parent.object.my_work_phone do |phone| %>
        <%#= "parent object: " + parent.object.inspect %>
        <%#= "phone object: " + phone.object.inspect %>
        <%= render partial: 'phone_numbers/form',
               locals: { f: form, type: :work, phone_number: phone } %>
      <% end %>
    <% end %>
    <%= form_row do %>
      <%= parent_field(form, :parent_address, 6) %>
      <%= parent_field(form, :parent_city, 4) %>
      <%= parent_field(form, :parent_postal_code, 2) %>
    <% end %>
    <%#= form_row do %>
      <%#= parent_field(parent, :name_first, 2) %>
      <%#= parent_field(parent, :name_middle, 2) %>
      <%#= parent_field(parent, :name_last, 2) %>
      <%#= parent_field(parent, :home_phone, 3) %>
      <%#= parent_field(parent, :work_phone, 3) %>
    <%# end %>
    <%#= form_row do %>
      <%#= parent_field(parent, :address, 6) %>
      <%#= parent_field(parent, :city, 4) %>
      <%#= parent_field(parent, :postal_code, 2) %>
    <%# end %>
  </div>
</div>
